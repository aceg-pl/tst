<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>News Portal</title><style>
:root{
  --ui-font:-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  /* NEW: Professional color system */
  --bg-primary:#fafbfc;--bg-secondary:#f1f3f4;--bg-card:#ffffff;--bg-hover:#f8f9fa;
  --border:#e2e8f0;--border-hover:#cbd5e1;--text-primary:#1e293b;--text-secondary:#64748b;--text-muted:#94a3b8;
  --accent:#3b82f6;--accent-hover:#2563eb;--success:#10b981;
  /* NEW: Layered shadows */
  --shadow-sm:0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
}

body{ /* CHANGED: Use new colors */
  background:var(--bg-primary); color:var(--text-primary);
}

.sticky-header{ /* CHANGED: Better shadow */
  box-shadow:var(--shadow-md);
}

.sites img{ /* NEW: Hover effects */
  border-radius:4px; box-shadow:var(--shadow-sm); transition:all .2s;
}
.sites img:hover{
  transform:translateY(-1px); box-shadow:var(--shadow-md);
}

.block-title{ /* CHANGED: Card-like, better spacing */
  background:var(--bg-card); border:1px solid var(--border); border-radius:8px;
  padding:12px 32px 12px 16px; color:var(--text-primary); box-shadow:var(--shadow-sm);
}

.feed-item{ /* CHANGED: Professional cards */
  background:var(--bg-card); border:1px solid var(--border); border-radius:8px;
  padding:12px; box-shadow:var(--shadow-sm); transition:all .2s ease;
}
.feed-item:hover{ /* NEW: Lift effect */
  box-shadow:var(--shadow-md); transform:translateY(-1px); border-color:var(--border-hover);
}
.feed-item a{ /* CHANGED: Better text */
  color:var(--text-primary); font-weight:500;
}
.feed-item span{ /* CHANGED: Muted text */
  color:var(--text-muted);
}

.scroll-pane{ /* CHANGED: Elevated cards */
  background:var(--bg-card); border:1px solid var(--border); border-radius:12px;
  box-shadow:var(--shadow-lg); padding:12px;
}

.srcbar img{ /* NEW: Better source icons */
  border-radius:3px; opacity:.4; transition:all .2s;
}
.srcbar img.on{opacity:1;background:var(--success);padding:1px;}
.srcbar img:hover{opacity:1;transform:scale(1.1);}

.mv{ /* NEW: Styled move buttons */
  background:var(--bg-secondary); padding:4px 8px; border-radius:6px; border:1px solid var(--border);
}
.mv span{ /* NEW: Hover states */
  padding:2px 6px; font-weight:500; color:var(--text-secondary); transition:all .2s;
}
.mv span:hover{color:var(--accent);}

button.loadmore{ /* NEW: Gradient button */
  background:linear-gradient(135deg,var(--accent),var(--accent-hover)); color:white;
  font-weight:600; border-radius:8px; box-shadow:var(--shadow-md); transition:all .2s;
}
button.loadmore:hover{box-shadow:var(--shadow-lg);transform:translateY(-1px);}

#quote i{ /* CHANGED: Better quote styling */
  color:var(--text-secondary);
}

#datebar{ /* CHANGED: Card styling */
  background:var(--bg-card); border:1px solid var(--border); border-radius:12px;
  padding:12px 16px; box-shadow:var(--shadow-lg);
}
#datebar #d{ /* NEW: Hover effect */
  background:var(--bg-hover); padding:8px 0; border-radius:8px; transition:all .2s;
}
#datebar #d:hover{background:var(--bg-secondary);}
#datebar a{ /* CHANGED: Accent links */
  color:var(--accent); font-weight:600;
}
#datebar h2{color:var(--accent);}

#searchLine input{ /* NEW: Styled search */
  background:var(--bg-card); border:1px solid var(--border); border-radius:8px;
  padding:10px 40px 10px 12px; box-shadow:var(--shadow-sm); transition:all .2s;
}
#searchLine input:focus{
  outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgb(59 130 246 / 0.1),var(--shadow-md);
}

#scrollButtons div{ /* NEW: Button styling */
  background:var(--bg-secondary); width:28px; height:28px; border-radius:6px;
  display:flex; align-items:center; justify-content:center; transition:all .2s;
}
#scrollButtons div:hover{background:var(--accent);color:white;transform:scale(1.05);}

#irLive, #pressureChart{ /* NEW: Elevated widgets */
  border-radius:12px; box-shadow:var(--shadow-lg); transition:all .3s;
}
#irLive:hover, #pressureChart:hover{
  box-shadow:var(--shadow-xl); transform:translateY(-2px);
}

</style></head><body>
  
<div class="sticky-header">
  <div style="display:flex;align-items:flex-start;justify-content:center;gap:10px;flex-wrap:wrap">
    <!-- LEFT SLOT (optional, keep empty or add chart later) -->
    <div id="pressureChart" style="flex:0 0 auto;width:180px;height:100px;position:relative;border-radius:8px;overflow:hidden;background:#ccc;box-shadow:0 0 4px rgba(0,0,0,.1)">
    <div style="position:absolute;top:4px;right:6px;font-size:8px;font-weight:600;color:#1E90FF;background:#ccc;padding:1px 4px;border-radius:3px;line-height:1">¬±7d Pressure/Rain</div>
    </div>

    <!-- CENTER BLOCK: sites + search -->
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center">
      <div class="sites" id="siteIcons"></div>
      <div id="searchLine" style="position:relative;display:flex;align-items:center;justify-content:center;margin:8px auto 12px auto;max-width:400px;width:100%">
        <input type="search" id="titleSearch" placeholder="Search News..." style="width:100%;padding:8px;border-radius:6px;border:1px solid #ccc;font-size:14px;box-sizing:border-box">
        <div id="scrollButtons" style="position:absolute;right:4px;display:flex;gap:8px;user-select:none;font-size:20px;cursor:pointer">
          <div id="pageDownArrow" title="Scroll one page down">‚¨áÔ∏è</div>
          <div id="topArrow" title="Scroll to top">‚è´</div>
        </div>
      </div>
    </div>
    
    <!-- RIGHT SLOT: LIVE IR IMAGE (show top part) -->
<div id="irLive"
     style="flex:0 0 auto;width:180px;height:100px;
            border-radius:8px;overflow:hidden;
            box-shadow:0 0 4px rgba(0,0,0,.1);cursor:pointer">
  <img
     src="https://modele.imgw.pl/cmm/wp-content/uploads/production/teledetekcja_sat/chmury/animHRV.gif"
     alt="IMGW HRV clouds"
     style="width:180px;height:100px;object-fit:cover;object-position:center center;border-radius:8px;pointer-events:none">
</div>
  </div>
</div>

<div id="datebar">
  <div id="d"></div>
  <div id="content" style="display:none;">
    <div id="otd"><h2>On this day</h2><div class="mut">loading‚Ä¶</div></div>
    <div id="mv"><h2>Movies</h2><div class="mut">loading‚Ä¶</div></div>
    <div id="al"><h2>Albums</h2><div class="mut">loading‚Ä¶</div></div>
    <div id="ft"><h2>Matches</h2><div class="mut">loading‚Ä¶</div></div>
 </div>
</div>

<div class="feed-block">
  <div class="block-title">üì∞ Wiadomo≈õci ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX0">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">‚öΩÔ∏è Sport ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX1">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">üñ•Ô∏è Tech ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX2">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">üåé News ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX3">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">üé¨ AV ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX4">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">‚úàÔ∏è Travel ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX5">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">ü§ñ AI ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX6">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">üìö Books ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX7">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">üõí Deals ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListX8">Loading‚Ä¶</div></div>
</div>

<div class="feed-block">
  <div class="block-title">üÖ∞Ô∏è Amazon ‚ÜïÔ∏è<span class="mv"></span></div>
  <div class="scroll-pane"><div class="feed-list" id="feedListXA">Loading‚Ä¶</div></div>
</div>

<script>
const sites=[{url:'https://www.onet.pl',d:'onet.pl'},{url:'https://www.wp.pl',d:'wp.pl'},{url:'https://www.interia.pl',d:'interia.pl'},{url:'https://www.gazeta.pl',d:'gazeta.pl'},{url:'https://www.polsatnews.pl',d:'polsatnews.pl'},{url:'https://expressbydgoski.pl',d:'expressbydgoski.pl'},{url:'https://www.rp.pl',d:'rp.pl'},{url:'https://www.newsweek.pl/lista-wydan',d:'newsweek.pl'},{url:'https://edition.cnn.com',d:'cnn.com'},{url:'https://www.bbc.com',d:'bbc.com'},{url:'https://www.reuters.com',d:'reuters.com'},{url:'https://www.flashscore.pl',d:'flashscore.pl'}];
const siteIcons=document.getElementById('siteIcons');
sites.forEach(s=>{let i=document.createElement('img');i.loading='lazy';i.src=`https://www.google.com/s2/favicons?domain=${s.d}&sz=24`;i.onclick=()=>window.open(s.url,'_blank');siteIcons.appendChild(i);});
const feedsX0=[{url:'https://wiadomosci.onet.pl/.feed'},{url:'https://wiadomosci.gazeta.pl/pub/rss/wiadomosci.htm'},{url:'https://www.polsatnews.pl/rss/wszystkie.xml'},{url:'https://wiadomosci.wp.pl/rss.xml'},{url:'https://wydarzenia.interia.pl/feed'}];
const feedsX1=[{url:'https://www.polsatsport.pl/rss/wszystkie.xml'},{url:'https://www.sport.pl/pub/rss/sport.xml'},{url:'https://www.soccernews.com/category/la-liga/feed/'}];
const feedsX2=[{url:'https://www.theverge.com/rss/index.xml'},{url:'https://www.wired.com/feed/rss'},{url:'https://www.sciencedaily.com/rss/top.xml'}];
const feedsX3=[{url:'https://news.google.com/rss?hl=en-US&gl=US&ceid=US:en'},{url:'https://feeds.bbci.co.uk/news/rss.xml'}];
const feedsX4=[{url:'https://eol-feeds.eonline.com/rssfeed/us/top_stories'},{url:'https://www.ign.com/rss/articles/feed'}];
const feedsX5=[{url:'https://www.wakacyjnipiraci.pl/feed'},{url:'https://www.urlaubspiraten.de/feed'},{url:'https://www.urlaubspiraten.at/feed'},{url:'https://www.piratinviaggio.it/feed'},{url:'https://www.viajerospiratas.es/feed'},{url:'https://www.voyagespirates.fr/feed'},{url:'https://www.vakantiepiraten.nl/feed'},{url:'https://www.holidaypirates.com/feed'}];
const feedsX6=[{url:'https://feeds.arstechnica.com/arstechnica/technology-lab'},{url:'https://techcrunch.com/tag/artificial-intelligence/feed/'},{url:'https://www.technologyreview.com/feed/'},{url:'https://venturebeat.com/category/ai/feed/'},{url:'https://www.zdnet.com/topic/artificial-intelligence/rss.xml'}];
const feedsX7=[{url:'http://rss.swiatczytnikow.pl/SwiatCzytnikow'}];
const feedsX8=[{url:'https://www.pepper.pl/rss/wszystkie'},{url:'https://www.mydealz.de/rss/alles'},{url:'https://www.hotukdeals.com/rss/new'},{url:'https://www.dealabs.com/rss/tous'},{url:'https://www.chollometro.com/rss/nuevos'}];
const feedsXA=feedsX8;

const srcState={}; // global on/off per domain

function addSrcIcons(blockId,feeds){
 const h=document.querySelector(`#${blockId}`).closest('.feed-block')
   .querySelector('.block-title');
 const b=document.createElement('span');
 b.className='srcbar';
 feeds.forEach(f=>{
  const d=new URL(f.url).hostname.replace(/^www\./,'');
  srcState[d]=1;
  const i=document.createElement('img');
  i.src=`https://www.google.com/s2/favicons?domain=${d}&sz=16`;
  i.className='on';
  i.title=d;
  i.onclick=e=>{
    e.stopPropagation();
    srcState[d]^=1;
    i.classList.toggle('on',srcState[d]);
    filterBySource();
  };
  b.appendChild(i);
 });
 h.appendChild(b);
}

function filterBySource(){
 document.querySelectorAll('.feed-item').forEach(a=>{
  try{
    const d=new URL(a.href).hostname.replace(/^www\./,'');
    a.style.display=srcState[d]?'':'none';
  }catch(e){}
 });
}

addSrcIcons('feedListX0',feedsX0);
addSrcIcons('feedListX1',feedsX1);
addSrcIcons('feedListX2',feedsX2);
addSrcIcons('feedListX3',feedsX3);
addSrcIcons('feedListX4',feedsX4);
addSrcIcons('feedListX5',feedsX5);
addSrcIcons('feedListX6',feedsX6);
addSrcIcons('feedListX7',feedsX7);
addSrcIcons('feedListX8',feedsX8);
addSrcIcons('feedListXA',feedsXA);

const proxy1='https://api.allorigins.win/get?url=',proxy2='https://api.codetabs.com/v1/proxy?quest=';

function fR(f,r=1){return fetch(proxy1+encodeURIComponent(f.url)).then(x=>x.json()).then(d=>({ok:1,t:d.contents})).catch(_=>r?fRalt(f,r-1):{ok:0,t:''})}
function fRalt(f,r=1){return fetch(proxy2+encodeURIComponent(f.url)).then(x=>x.text()).then(t=>({ok:1,t})).catch(_=>r?fRalt(f,r-1):{ok:0,t:''})}

function fNR(feeds,id,page=0,mode=0){
 let el=document.getElementById(id);if(page===0)el.innerHTML='';
 Promise.all(feeds.map(f=>fR(f,1).then(r=>{
   if(!r.ok)return[];
   let p=new DOMParser(),x=p.parseFromString(r.t,'application/xml');
   return Array.from(x.querySelectorAll('item,entry')).map(e=>{
     let t=(e.querySelector('title')?.textContent||'No title')
        .replace(/ÔøΩw/g,"√≥").replace(/ÔøΩl/g,"≈Ç").replace(/ÔøΩa/g,"ƒÖ").replace(/ÔøΩe/g,"ƒô")
        .replace(/ÔøΩs/g,"≈õ").replace(/ÔøΩc/g,"ƒá").replace(/ÔøΩz/g,"≈º").replace(/ÔøΩx/g,"≈∫").replace(/ÔøΩn/g,"≈Ñ"),
    l=e.querySelector('link')?.textContent||e.querySelector('link')?.getAttribute('href')||'#',
    d=e.querySelector('pubDate')?.textContent||e.querySelector('updated')?.textContent||new Date().toISOString();
return {t,l,d:new Date(d)};
   });
 }))).then(all=>{
   let items=all.flat().sort((a,b)=>b.d-a.d)
   .filter(x=>{
  const u=x.l.toLowerCase(),t=x.t.toLowerCase();
  const isA=/amazon\./.test(u)||/amazon/.test(t)||/\/visit\/|slredirect|tag=/.test(u);
  return mode==1?isA:mode==2?!isA:1;
});
   items.slice(page*20,(page+1)*20).forEach(n=>{
     let a=document.createElement('a');a.href=n.l;a.target='_blank';a.className='feed-item';
     let im=document.createElement('img');im.loading='lazy';const h=new URL(n.l).hostname,f=(/amazon/i.test(n.t)||/\/visit\/|slredirect|tag=/.test(n.l))&&(/pepper\.pl/.test(h)?'üáµüá±':/mydealz\.de/.test(h)?'üá©üá™':/hotukdeals\.com/.test(h)?'üá¨üáß':/dealabs\.com/.test(h)?'üá´üá∑':/chollometro\.com/.test(h)?'üá™üá∏':0);f?(im.remove(),a.insertAdjacentHTML('afterbegin',`<span style="display:inline-block;width:1.1em;text-align:center">${f}</span>`)):im.src=`https://www.google.com/s2/favicons?domain=${h}&sz=16`;
     let sp=document.createElement('span'),rD=n.d,nD=new Date();
     sp.textContent=' '+((nD-rD)/36e5<24?`${String(rD.getHours()).padStart(2,'0')}:${String(rD.getMinutes()).padStart(2,'0')}`:`${String(rD.getDate()).padStart(2,'0')}/${String(rD.getMonth()+1).padStart(2,'0')}`);
     a.appendChild(im);a.appendChild(document.createTextNode(' '+n.t.slice(0,80)+(n.t.length>80?'‚Ä¶':'')));a.appendChild(sp);
     el.appendChild(a);
   });
   if(items.length>(page+1)*20){
     let btn=document.createElement('button');btn.textContent='Load more';btn.className='loadmore';
     btn.onclick=()=>{btn.remove();fNR(feeds,id,page+1)};el.after(btn);
   }
 });
}

titleSearch.oninput=()=>{let f=titleSearch.value.toLowerCase();document.querySelectorAll('.feed-item').forEach(x=>x.style.display=x.textContent.toLowerCase().includes(f)?'':'none')};
pageDownArrow.onclick=()=>scrollBy({top:innerHeight,behavior:'smooth'});
topArrow.onclick=()=>scrollTo({top:0,behavior:'smooth'});
  
function loadSeq(){fNR(feedsX0,'feedListX0');setTimeout(()=>fNR(feedsX1,'feedListX1'),400);setTimeout(()=>fNR(feedsX2,'feedListX2'),800);setTimeout(()=>fNR(feedsX3,'feedListX3'),1200);setTimeout(()=>fNR(feedsX4,'feedListX4'),1600);setTimeout(()=>fNR(feedsX5,'feedListX5'),2000);setTimeout(()=>fNR(feedsX6,'feedListX6'),2400);setTimeout(()=>fNR(feedsX7,'feedListX7'),2800);setTimeout(()=>fNR(feedsX8,'feedListX8',0,2),3200);setTimeout(()=>fNR(feedsXA,'feedListXA',0,1),3600);}
loadSeq();

(async()=>{
const tmdbKey="179d23dc4b4a1ba27263fcc2503d5e3d";
const footKey="f1637751ac2e41dc8cfbe1f9492c0a4b";                

const now=new Date(),today=new Date(now.getFullYear(),now.getMonth(),now.getDate(),12),
      ymd=today.toISOString().slice(0,10),
      MM=('0'+(today.getMonth()+1)).slice(-2),
      DD=('0'+today.getDate()).slice(-2);
const $=id=>document.getElementById(id),set=(id,html)=>($(id).innerHTML=html);

// üîπ Static Polish names-day array
const namesdayArray=[
["Mieszka, Mieczys≈Çawa, Marii","Izydora, Bazylego, Grzegorza","Arlety, Genowefy, Danuty","Tytusa, Anieli, Eugeniusza","Hanny, Szymona, Edwarda","Kacpra, Melchiora, Baltazara","Juliana, Lucjana, Rajmunda","Seweryna, M≈õcis≈Çawa, Juliusza","Marceliny, Marianny, Juliana","Wilhelma, Dobros≈Çawa, Danuty","Honoraty, Teodozjusza, Matyldy","Grety, Arkadiusza, Rajmunda","Bogumi≈Çy, Weroniki, Hilarego","Feliksa, Domos≈Çawa, Niny","Paw≈Ça, Arnolda, Izydora","Marcelego, W≈Çodzimierza, Waldemara","Antoniego, Ro≈õcis≈Çawa, Jana","Piotra, Ma≈Çgorzaty","Henryka, Mariusza, Marty","Fabiana, Sebastiana","Agnieszki, Jaros≈Çawa","Anastazego, Wincentego","Ildefonsa, Rajmunda","Felicji, Franciszka, Rafa≈Ça","Paw≈Ça, Mi≈Çosza, Elwiry","Tymoteusza, Micha≈Ça, Tytusa","Przybys≈Çawa, Anieli, Jerzego","Walerego, Radomira, Tomasza","Zdzis≈Çawa, Franciszka, J√≥zefa","Macieja, Martyny, Teofila","Marceli, Ludwiki, Jana"],
["Brygidy, Ignacego, Seweryna","Marii, Mi≈Ços≈Çawa","B≈Ça≈ºeja, Oskara","Andrzeja, Weroniki, Joanny","Agaty, Adelajdy","Doroty, Bogdana, Paw≈Ça","Ryszarda, Teodora, Romana","Hieronima, Sebastiana, Ireny","Apolonii, Eryki, Cyryla","Elwiry, Jacka, Scholastyki","Lucjana, Olgierda","Eulalii, Rados≈Çawa, Modesta","Grzegorza, Katarzyny","Cyryla, Metodego, Walentego","Jowity, Faustyna, Zygfryda","Danuty, Julianny, Daniela","Aleksego, Zbigniewa, ≈Åukasza","Szymona, Konstancji, Flawiana","Arnolda, Konrada, Marcelego","Leona, Ludomira, Zenobiusza","Eleonory, Fortunata, Roberta","Marty, Ma≈Çgorzaty, Piotra","Romany, Damiana, Polikarpa","Macieja, Bogusza, Sergiusza","Wiktora, Cezarego","Miros≈Çawa, Aleksandra","Gabriela, Anastazji","Romana, Ludomira, Lecha","Lecha, Lutos≈Çawa"],
["Antoniny, Rados≈Çawa, Dawida","Heleny, Halszki, Paw≈Ça","Maryny, Kunegundy, Tycjana","Lucji, Kazimierza, Eugeniusza","Adriana, Fryderyka, Teofila","R√≥≈ºy, Jordana, Agnieszki","Tomasza, Perpetuy, Felicyty","Beaty, Wincentego, Jana","Franciszki, Brunona","Cypriana, Marcela, Aleksandra","Ludos≈Çawa, Konstantyna, Benedykta","Grzegorza, Justyna, Alojzego","Bo≈ºeny, Krystyny","Leona, Matyldy, ≈Åazarza","Longina, Klemensa, Ludwiki","Izabeli, Oktawii, Hilarego","Patryka, Zbigniewa, Gertrudy","Cyryla, Edwarda, Boguchwa≈Çy","J√≥zefa, Bogdana","Klaudii, Eufemii, Maurycego","Lubomira, Benedykta","Katarzyny, Bogus≈Çawa","Pelagii, Oktawiana, Feliksa","Marka, Gabriela, Katarzyny","Marioli, Wieczys≈Çawa, Ireneusza","Larysy, Emanuela, Teodora","Lidii, Ernesta","Anieli, Sykstusa, Jana","Wiktoryna, Helmuta, Eustachego","Anieli, Kwiryna, Leonarda","Beniamina, Dobromierza, Leonarda"],
["Teodory, Gra≈ºyny, Ireny","W≈Çadys≈Çawa, Franciszka, Teodozji","Ryszarda, Pankracego, Ingi","Izydora, Wac≈Çawa","Ireny, Wincentego","Izoldy, Celestyna, Wilhelma","Rufina, Celestyna, Jana","Cezaryny, Dionizego, Julii","Marii, Dymitra, Heliodora","Micha≈Ça, Makarego","Filipa, Leona","Juliusza, Lubos≈Çawa, Zenona","Przemys≈Çawa, Hermenegildy, Marcina","Bereniki, Waleriana, Justyny","Ludwiny, Wac≈Çawy, Anastazji","Kseni, Cecylii, Bernardety","Rudolfa, Roberta","Bogus≈Çawy, Apoloniusza","Adolfa, Tymona, Leona","Czes≈Çawa, Agnieszki, Mariana","Anzelma, Bartosza, Feliksa","Kai, Leonii, Sotera","Jerzego, Wojciecha","Horacego, Feliksa, Grzegorza","Marka, Jaros≈Çawa, Wasyla","Marzeny, Klaudiusza, Marii","Zyty, Teofila, Felicji","Piotra, Walerii, Witalisa","Rity, Katarzyny, Bogus≈Çawa","Mariana, Donaty, Tamary"],
["J√≥zefa, Jeremiasza, Filipa","Zygmunta, Atanazego, Anatola","Marii, Antoniny","Moniki, Floriana, W≈Çadys≈Çawa","Ireny, Waldemara","Judyty, Jakuba, Filipa","Gizeli, Ludmi≈Çy, Benedykta","Stanis≈Çawa, Lizy, Wiktora","Bo≈ºydara, Grzegorza, Karoliny","Izydora, Antoniny, Symeona","Igi, Miry, W≈Çadys≈Çawy","Pankracego, Dominika, Achillesa","Serwacego, Roberta, Glorii","Bonifacego, Dobies≈Çawa, Macieja","Zofii, Nadziei, Izydora","Andrzeja, Jedrzeja, Szymona","Paschalisa, S≈Çawomira, Weroniki","Eryka, Feliksa, Jana","Iwa, Piotra, Celestyna","Bazylego, Bernardyna, Aleksandra","Wiktora, Kryspina, Tymoteusza","Heleny, Wies≈Çawy, Ryty","Iwony, Dezyderego, Kryspina","Joanny, Zuzanny","Grzegorza, Urbana, Magdaleny","Filipa, Pauliny","Augustyna, Juliana, Magdaleny","Jaromira, Justa, Justyny","Magdaleny, Bogumi≈Çy, Urszuli","Ferdynanda, Karola, Jana","Anieli, Petroneli"],
["Justyna, Anieli, Konrada","Marianny, Marcelina, Piotra","Leszka, Tamary, Karola","Kwiryny, Franciszka","Waltera, Bonifacego, Walerii","Norberta, Laurentego, Bogumi≈Ça","Roberta, Wies≈Çawa","Medarda, Maksyma, Seweryna","Pelagii, Dominika, Efrema","Bogumi≈Ça, Ma≈Çgorzaty, Diany","Barnaby, Radomi≈Ça, Feliksa","Janiny, Onufrego, Leona","Lucjana, Antoniego","Bazylego, Elwiry, Micha≈Ça","Wita, Jolanty","Aliny, Benona, Anety","Laury, Marcjana, Alberta","Marka, El≈ºbiety","Gerwazego, Protazego","Diny, Bogny, Florentyny","Alicji, Alojzego","Pauliny, Tomasza, Jana","Wandy, Zenona","Jana, Danuty","Lucji, Wilhelma, Doroty","Jana, Paw≈Ça","Maryli, W≈Çadys≈Çawa, Cyryla","Leona, Ireneusza","Piotra, Paw≈Ça","Emilii, Lucyny"],
["Haliny, Mariana, Marcina","Jagody, Urbana, Marii","Jacka, Anatola, Tomasza","Odona, Malwiny, El≈ºbiety","Marii, Antoniego","Gotarda, Dominiki, Lucji","Cyryla, Estery, Metodego","Edgara, El≈ºbiety, Eugeniusza","Lukrecji, Weroniki, Zenona","Sylwany, Witalisa, Antoniego","Olgi, Kaliny, Benedykta","Jana, Brunona, Bonifacego","Henryka, Kingi, Andrzeja","Ulryka, Bonawentury, Kamila","Henryka, W≈Çodzimierza, Dawida","Mariki, Benity, Eustachego","Anety, Bogdana, Jadwigi","Erwina, Kamila, Szymona","Wincentego, Wodzis≈Çawa, Marcina","Czes≈Çawa, Hieronima, Ma≈Çgorzaty","Daniela, Dalidy, Wawrzy≈Ñca","Marii, Magdaleny","Stwosza, Bogny, Brygidy","Kingi, Krystyny","Walentyny, Krzysztofa, Jakuba","Anny, Miros≈Çawy, Gra≈ºyny","Lilii, Julii, Natalii","Aidy, Marceli, Wiktora","Olafa, Marty, Ludmi≈Çy","Julity, Piotra, Aldony","Ignacego, Lubomira, Heleny"],
["Nadii, Justyna, Juliana","Kariny, Gustawa, Euzebiusza","Lidii, Augusta, Nikodema","Dominika, Protazego, Jana","Oswalda, Marii, Mariana","S≈Çawy, Jakuba, Oktawiana","Kajetana, Doroty, Sykstusa","Cypriana, Emiliana, Dominika","Romana, Ryszarda, Edyty","Borysa, Filomeny, Wawrzy≈Ñca","Klary, Zuzanny, Lecha","Innocentego, Lecha, Euzebii","Diany, Hipolita, Poncjana","Alfreda, Euzebiusza, Maksymiliana","Napoleona, Stelii","Rocha, Stefana, Joachima","≈ªanny, Mirona, Jacka","Ilony, Bronis≈Çawy, Heleny","Boles≈Çawa, Juliana","Bernarda, Samuela, Sobies≈Çawa","Joanny, Kazimiery, Piusa","Cezarego, Tymoteusza","Apolinarego, Filipa","Jerzego, Bartosza, Haliny","Luizy, Ludwika, J√≥zefa","Marii, Aleksandra","Cezarego, J√≥zefa, Moniki","Patrycji, Wyszomira, Augustyna","Beaty, Jana, Sabiny, Racibora","R√≥≈ºy, Szczƒôsnego, Feliksa","Bogdana, Ramony, Rajmunda"],
["Idziego, Bronis≈Çawa","Juliana, Stefana, Wilhelma","Grzegorza, Izabeli, Szymona","Idy, Julianny, Rozalii, R√≥≈ºy","Doroty, Teodora, Wawrzy≈Ñca","Beaty, Eugeniusza","Domos≈Çawy, Melchiora, Reginy","Marii, Adrianny, Serafiny","≈öcibora, Sergiusza, Piotra","≈Åukasza, Aldony, M≈õcis≈Çawa","Jacka, Prota, Dagny, Hiacynta","Gwidona, Radzimira, Marii","Eugenii, Aureliusza, Jana","Roksany, Bernarda, Cypriana","Albina, Nikodema, Marii","Edyty, Korneliusza, Cypriana","Franciszka, Roberta, Justyna","Irmy, Stanis≈Çawa, Ireny","Januarego, Konstancji, Teodora","Filipiny, Eustachego, Euzebii","Jonasza, Mateusza, Hipolita","Tomasza, Maurycego, Joachima","Tekli, Bogus≈Çawa, Linusa","Gerarda, Ruperta, Tomiry","Aurelii, W≈Çadys≈Çawa, Kleofasa","Wawrzy≈Ñca, Kosmy, Damiana","Wincentego, Mirabeli, Justyny","Wac≈Çawa, Tymona, Marka","Micha≈Ça, Gabriela, Rafa≈Ça","Wery, Honoriusza, Hieronima"],
["Danuty, Remigiusza, Teresy","Teofila, Dionizego, S≈Çawomira","Teresy, Heliodora, Jana","Rozalii, Edwina, Franciszka","Placyda, Apolinarego","Artura, Brunona","Marii, Marka, Mirelli","Pelagii, Brygidy, Walerii","Amolda, Dionizego, Wincentego","Pauliny, Danieli, Leona","Aldony, Aleksandra, Dobromiry","Eustachego, Maksymiliana, Edwina","Geralda, Edwarda, Honorata","Liwii, Kaliksta, Bernarda","Jadwigi, Teresy, Florentyny","Gawe≈Ça, Ambro≈ºego","Wiktora, Marity, Ignacego","Juliana, ≈Åukasza","Ziemowita, Jana, Paw≈Ça","Ireny, Kleopatry, Jana","Urszuli, Hilarego, Jakuba","Halki, Filipa, Salomei","Marleny, Seweryna, Igi","Rafa≈Ça, Marcina, Antoniego","Darii, Wilhelminy, Bonifacego","Lucjana, Ewarysta, Damiana","Iwony, Sabiny","Szymona, Tadeusza","Euzebii, Wioletty, Felicjana","Zenobii, Przemys≈Çawa, Edmunda","Urbana, Saturnina, Krzysztofa"],
["Wszystkich ≈öwiƒôtych","Bohdany, Bo≈ºydara","Sylwii, Marcina, Huberta","Karola, Olgierda","El≈ºbiety, S≈Çawomira, Dominika","Feliksa, Leonarda, Ziemowita","Antoniego, ≈ªytomira, Ernesta","Seweryna, Bogdana, Klaudiusza","Aleksandra, Ludwika, Teodora","Leny, Ludomira, Leona","Marcina, Bart≈Çomieja, Teodora","Renaty, Witolda, Jozafata","Mateusza, Izaaka, Stanis≈Çawa","Rogera, Serafina, Wawrzy≈Ñca","Alberta, Leopolda","Gertrudy, Edmunda, Marii","Salomei, Grzegorza, El≈ºbiety","Romana, Klaudyny, Karoliny","Seweryny, Maksyma, Salomei","Anatola, Sedzimira, Rafa≈Ça","Alberta, Janusza, Konrada","Cecylii, Wszemi≈Çy, Stefana","Adelii, Klemensa, Felicyty","Flory, Emmy, Chryzogona","Erazma, Katarzyny","Delfiny, Sylwestra, Konrada","Waleriana, Wirgiliusza, Maksyma","Les≈Çawa, Zdzis≈Çawa, Stefana","B≈Ça≈ºeja, Saturnina","Andrzeja, Maury, Konstantego"],
["Natalii, Eligiusza, Edmunda","Balbiny, Bibianny, Pauliny","Franciszka, Ksawerego, Kasjana","Barbary, Krystiana, Jana","Sabiny, Krystyny, Edyty","Miko≈Çaja, Jaremy, Emiliana","Marcina, Ambro≈ºego, Teodora","Marii, ≈öwiatozara, Makarego","Wies≈Çawa, Leokadii, Joanny","Julii, Danieli, Bogdana","Damazego, Waldemara, Daniela","Dagmary, Aleksandra, Ady","≈Åucji, Otylii","Alfreda, Izydora, Jana","Niny, Celiny, Waleriana","Albiny, Zdzis≈Çawy, Alicji","Olimpii, ≈Åazarza, Floriana","Gracjana, Bogus≈Çawa, Laurencji","Gabrieli, Dariusza, Eleonory","Bogumi≈Çy, Dominika","Tomis≈Çawa, Seweryna, Piotra","Zenona, Honoraty, Franciszki","Wiktorii, S≈Çawomiry, Jana","Adama, Ewy, Eweliny","Anastazji, Eugenii","Dionizego, Szczepana","Jana, ≈ªanety, Maksyma","Teofilii, Godzis≈Çawa","Sabiny, Seweryna", "Dawida, Donaty, Melanii", "Sebastiana, Sylwestra"]
];

// function to get today‚Äôs names
function getNamesday(){
  return namesdayArray[parseInt(MM,10)-1]?.[parseInt(DD,10)-1]||"";
}
  
$("d").innerHTML=`
  <b>‚ÜïÔ∏è üìÖ ${ymd} (${today.toLocaleDateString('pl-PL',{weekday:'long'})}) ‚Äî üïäÔ∏è ${getNamesday()||"<span class='mut'>none</span>"} ‚ÜïÔ∏è</b>
  <div id="holidays" style="font-size:12px"></div>
  <div id="weather" style="margin-top:4px;font-weight:400;font-size:13px;color:#000"></div>
  <div id="markets"></div>
  <div id="quote"></div>
  <div id="fact" class="mut" style="margin-top:2px;font-size:12.5px"></div>
`;

(()=>{
  const lat=53.1235, lon=18.0084, tz="Europe/Warsaw";

  fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&hourly=pressure_msl&daily=sunrise,sunset&timezone=${encodeURIComponent(tz)}`)
  .then(r=>r.json())
  .then(d=>{
    const cw=d.current_weather||{},
          t=cw.temperature??"‚Äî",
          w=cw.windspeed??"‚Äî",
          c=cw.weathercode??0,
          icon=c<3?'‚òÄÔ∏è':c<50?'‚òÅÔ∏è':c<60?'üåßÔ∏è':'‚òîÔ∏è',
          prs=d.hourly.pressure_msl||[],
          times=d.hourly.time||[],
          now=new Date();
    let nearest=0,minDiff=1e9;
    for(let i=0;i<times.length;i++){
      const diff=Math.abs(new Date(times[i])-now);
      if(diff<minDiff){minDiff=diff;nearest=i;}
    }
    const p=prs[nearest]?Math.round(prs[nearest]):"‚Äî",
          sr=(d.daily.sunrise||["‚Äì"])[0].split("T")[1]?.slice(0,5)||"‚Äì",
          ss=(d.daily.sunset||["‚Äì"])[0].split("T")[1]?.slice(0,5)||"‚Äì",
          lp=2551443, newMoon=592500,
          ph=(((now/1000)-newMoon)%lp)/lp<0?(((now/1000)-newMoon)%lp)/lp+1:(((now/1000)-newMoon)%lp)/lp,
          moon=ph<0.03||ph>0.97?"üåë":ph<0.25?"üåí":ph<0.27?"üåì":ph<0.47?"üåî":ph<0.53?"üåï":ph<0.75?"üåñ":ph<0.77?"üåó":"üåò",
          percent=Math.round(ph*100);

const sunsetTime=new Date((d.daily.sunset||["‚Äì"])[0]);
const checkTime=new Date(sunsetTime.getTime() + 60*60*1000); // 1hr after sunset
const hourlyTime=d.hourly.time||[], hourlyWeather=d.hourly.weathercode||[];
let clearTonight=false;
for(let i=0; i<hourlyTime.length; i++){
  const diff=Math.abs(new Date(hourlyTime[i])-checkTime);
  if(diff<30*60*1000){ // within 30min window
    const wc=hourlyWeather[i];
    clearTonight=wc===0 || wc===1; // clear skies (0-1)
    break;
  }
}
window.clearTonight=clearTonight; // make global for telescope icon

document.getElementById("weather").innerHTML=
  `${icon} ${t}¬∞C ‚Ä¢ üí®${w}km/h ‚Ä¢ üå™Ô∏è${p}hPa ‚Ä¢ üåÖ ${sr}‚Äì${ss} ‚Ä¢ ${moon} ${percent}%${clearTonight?' üî≠':''}`;

  })
  .catch(_=>{
    document.getElementById("weather").textContent="Weather unavailable.";
  });
})();

document.querySelectorAll('.mv').forEach(m => {
  m.innerHTML = '<span class="up">üîº </span><span class="down">üîΩ </span>';
  const block = m.closest('.feed-block');

  m.querySelector('.up').onclick = e => {
    e.stopPropagation();
    const prev = block.previousElementSibling;
    if (prev) block.parentNode.insertBefore(block, prev);
  };

  m.querySelector('.down').onclick = e => {
    e.stopPropagation();
    const next = block.nextElementSibling;
    if (next) block.parentNode.insertBefore(next, block);
  };
});

document.querySelectorAll(".block-title").forEach(t=>{
  t.style.cursor="pointer";
  t.onclick=()=>{
    const p=t.nextElementSibling;
    p.classList.toggle("c");
  };
});

// utility
const j=async(u,o)=>{try{const r=await fetch(u,o);if(!r.ok)throw 0;return await r.json()}catch(e){return null}}
const bullets=(arr,max=8,map=x=>x)=>arr&&arr.length?arr.slice(0,max).map(map).join(" ‚Ä¢ "):"<span class='mut'>none</span>";

// üîπ On this day (sorted oldest‚Üínewest, top 5, year bolded)
j(`https://api.wikimedia.org/feed/v1/wikipedia/en/onthisday/all/${MM}/${DD}`).then(d=>{
 let ev=(d&&d.events)?d.events.sort((a,b)=>a.year-b.year).slice(0,5):[];
 const html=ev.map(x=>{
  const yr=`<b>${x.year}</b>`;
  const txt=x.text.split(" ‚Äì ")[0]||"";
  const link=(x.pages?.[0]?.titles?.normalized)||"";
  return `${yr}: <a href="https://en.wikipedia.org/wiki/${encodeURIComponent(link)}" target="_blank" style="font-weight:400">${txt}</a>`;
  }).join(" ‚Ä¢ ");
 set("otd",`<h2 style="display:inline; margin-right:6px;">On this day</h2>${html||"<span class='mut'>none</span>"}`);
});

// üîπ Quote + Trivia (same line)
Promise.all([
  fetch("https://api.api-ninjas.com/v2/quoteoftheday",{
    headers:{ "X-Api-Key":"CQ8HdR3vNr2ipN09Y6/z1Q==RclBA6K6D3CHeeDX" }
  }).then(r=>r.json()),
  fetch("https://uselessfacts.jsph.pl/api/v2/facts/random").then(r=>r.json())
]).then(([q,f])=>{
  q=q&&q[0];
  if(!q||!q.quote)throw 0;
  quote.innerHTML=
    `üìñ <i>"${q.quote.replace(/"/g,"&quot;")}" (${(q.author||"Unknown").replace(/"/g,"&quot;")})</i> ¬∑ `+
    `üí° <i>${f&&f.text?f.text.replace(/"/g,"&quot;"):""}</i>`;
}).catch(()=>{
  quote.innerHTML='<span class="mut">Quote unavailable</span>';
});
  
// üîπ Movies (bold + extended)
(async()=>{
 if(!tmdbKey){set("mv","<h2>Movies</h2><span class='mut'>add TMDb key</span>");return;}
 const d=await j(`https://api.themoviedb.org/3/discover/movie?api_key=${tmdbKey}&language=en-US&region=US&with_release_type=3|2&primary_release_date.gte=${ymd}&primary_release_date.lte=${ymd}&sort_by=popularity.desc`);
 if(!d||!d.results){set("mv","<h2>Movies</h2><span class='mut'>none</span>");return;}
 const movies=d.results.filter(x=>["en","pl"].includes(x.original_language)).slice(0,8);
 const infos=[];
 for(const m of movies){
   const det=await j(`https://api.themoviedb.org/3/movie/${m.id}?api_key=${tmdbKey}&append_to_response=credits`);
   if(!det)continue;
   const genres=(det.genres||[]).map(g=>g.name).join(", ");
   const dir=(det.credits.crew.find(c=>c.job=="Director")||{}).name||"";
   const cast=(det.credits.cast||[]).slice(0,3).map(c=>c.name).join(", ");
   infos.push(
  `<a href="https://www.themoviedb.org/movie/${m.id}" target="_blank"><b>${m.title}</b></a>` + (genres ? " " + genres.split(", ")[0] : "") + (dir ? " by " + dir : "") + (cast ? `, <i>${cast}</i>` : ""));
 }
 set("mv",`<h2 style="display:inline; margin-right:6px;">Movies</h2>${infos.length?infos.join(" ‚Ä¢ "):"<span class='mut'>none</span>"}`);
})();

// üîπ Albums (bold + artists)
j(`https://musicbrainz.org/ws/2/release/?query=date:${ymd}%20AND%20status:official&fmt=json&limit=15`).then(d=>{
 const seen=new Set,releases=(d&&d.releases||[]).filter(x=>{
   const lang=(x["text-representation"]?.language)||"";
   if(lang && !["eng","pol"].includes(lang))return false;
   const t=(x["release-group"]?.title)||x.title;
   if(seen.has(t))return false; seen.add(t); return t;
});
 const html=bullets(releases,10,x=>{
   const t=(x["release-group"]?.title)||x.title;
   const id=(x["release-group"]?.id)||x.id;
   const artists=(x["artist-credit"]||[]).map(a=>a.name).join(", ");
   return `<a href="https://musicbrainz.org/release-group/${id}" target="_blank"><b>${t}</b></a>${artists?" "+artists:""}`;
 });
 set("al",`<h2 style="display:inline; margin-right:6px;">Albums</h2>${html}`);
});

// üîπ Matches (Scorebat ‚Äì free, no key)
j("https://www.scorebat.com/video-api/v3/").then(d=>{
  const m=d.response||[];
  const html=m.slice(0,10)
    .map(x=>x.title.replace(' vs ',' ‚öΩ '))
    .join(" ‚Ä¢ ");
  set("ft",`<h2 style="display:inline; margin-right:6px;">Matches</h2>${html||"<span class='mut'>none</span>"}`);
});

$("d").onclick=()=>{
  const c=$("content");
  c.style.display=c.style.display==="none"?"block":"none";
};
     
Promise.all([
  fetch("https://api.frankfurter.app/latest?from=EUR&to=PLN,USD,GBP")
    .then(r=>r.json()).catch(()=>null),

  fetch("https://stooq.com/q/l/?s=xauusd,xagusd,xpdusd,xcuusd&f=sd2t2ohlcv&h&e=json")
    .then(r=>r.json()).catch(()=>null)
]).then(([fx,met])=>{
  const r=fx?.rates||{};
  const d=met?.data||[];

  const EURPLN=r.PLN||null;
  const USDPLN=(r.USD&&r.PLN)?r.PLN/r.USD:null;
  const GBPPLN=(r.GBP&&r.PLN)?r.PLN/r.GBP:null;

  const get=(s)=>d.find(x=>x.symbol===s)?.close;

  markets.innerHTML=
   `üí± ‚Ç¨ ${EURPLN?.toFixed(2)||"‚Äî"} ‚Ä¢ 
    $ ${USDPLN?.toFixed(2)||"‚Äî"} ‚Ä¢ 
    ¬£ ${GBPPLN?.toFixed(2)||"‚Äî"} ‚Ä¢ 
    ü™ô Au ${get("XAUUSD")||"‚Äî"} ‚Ä¢ 
    Ag ${get("XAGUSD")||"‚Äî"} ‚Ä¢ 
    Cu ${get("XCUUSD")||"‚Äî"} ‚Ä¢ 
    Pd ${get("XPDUSD")||"‚Äî"}`;
}).catch(()=>{
  markets.innerHTML="<span class='mut'>Markets unavailable</span>";
});

const Y=today.getFullYear(), iso=ymd;

const countries={PL:"üáµüá±",CZ:"üá®üáø",AT:"üá¶üáπ",DE:"üá©üá™",FR:"üá´üá∑",IT:"üáÆüáπ",GB:"üá¨üáß",US:"üá∫üá∏",MA:"üá≤üá¶",IN:"üáÆüá≥",CN:"üá®üá≥",JP:"üáØüáµ",BR:"üáßüá∑"};

Promise.all(
 Object.keys(countries).map(c=>
  fetch(`https://date.nager.at/api/v3/PublicHolidays/${Y}/${c}`)
   .then(r=>r.json())
   .then(a=>a.filter(h=>h.date===iso)
     .map(h=>`${countries[c]} ${h.localName}`))
   .catch(()=>[])
 )
).then(all=>{
  const h=all.flat();
  holidays.innerHTML =
 h.length
  ? `üéå Today: ${h.join(" ‚Ä¢ ")}`
  : `<span class='mut'>No major public holidays today</span>`;
});

(()=>{const m=[
 ['üì∞','feedListX0'],['‚öΩÔ∏è','feedListX1'],['üñ•Ô∏è','feedListX2'],['üåé','feedListX3'],
 ['üé¨','feedListX4'],['‚úàÔ∏è','feedListX5'],['ü§ñ','feedListX6'],['üìö','feedListX7'],['üõí','feedListX8'],['üÖ∞Ô∏è','feedListXA']
],c=document.createElement('div');
c.style='display:flex;flex-wrap:wrap;gap:4px;justify-content:center;margin:1px 0';
m.forEach(([t,id])=>{
 let b=document.createElement('button');
 b.textContent=t;
 b.style='padding:3px 6px;border-radius:7px;border:1px solid #ccc;background:linear-gradient(#fff,#ececec);box-shadow:0 1px 2px rgba(0,0,0,.15);font-size:12px;cursor:pointer';
 b.onclick=()=>document.getElementById(id)?.scrollIntoView({behavior:'smooth',block:'start'});
 c.appendChild(b);
});
siteIcons.parentNode.insertBefore(c,document.getElementById('searchLine'));
})();

  
})();
</script>
  
<script src="https://aceg-pl.github.io/ns/pressure.js"></script>
<script>
setTimeout(()=>{
  if(window.pressurePNG){
    document.getElementById("pressureChart").innerHTML+=`<img src="${window.pressurePNG}" style="width:100%;height:100%;border-radius:8px">`;
  }
},1500);
</script>

<script>
(()=>{let o;

const IMG_IR=[
"https://modele.imgw.pl/cmm/wp-content/uploads/production/prognoza_synoptyczna/SYNOP_PROG_S.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_T2_AVE.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_P0_AVE.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_All_PrecACU.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_All_PrecType.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_Wspd_AVE.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_VIS_AVE.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_Day_Lcloud_AVE.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_Day_Mcloud_AVE.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/ecmwf/ECMWF_daily_maps/ECMWF_SUN.png"
];

const IMG_PRESSURE=[
"https://meteo.imgw.pl/data/archiwum_map_synoptycznych/mapa_current_00.png",
"https://modele.imgw.pl/cmm/wp-content/uploads/production/space_weather/space_weather/nowcast_eu.png",
"https://cdn.shopify.com/s/files/1/0831/9408/5704/files/astro_calendar_december_2025_EN.jpg?v=1764259964"
];

const close=()=>{o&&(o.remove(),o=0)};
document.addEventListener("click",e=>{
 if(o&&!o.contains(e.target)&&!e.target.closest("#irLive,#pressureChart"))close();
});

const openOverlay=(el,imgs)=>{
 close();
 o=document.createElement("div");
 o.style="position:relative;margin:10px 16px;padding:10px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.2)";
 o.innerHTML=`<div style="position:absolute;top:6px;right:8px;cursor:pointer;font-size:16px;color:#c00">‚ùå</div>
 <div style="display:grid;gap:8px;grid-template-columns:repeat(2,1fr)">
 ${imgs.map(u=>`<img loading="lazy" src="${u}" style="width:100%;border-radius:6px">`).join("")}
 </div>`;
 o.querySelector("div").onclick=close;
 (document.getElementById("irLive")||el).after(o);
 if(innerWidth>=768)o.lastElementChild.style.gridTemplateColumns="repeat(3,1fr)";
};

document.getElementById("irLive")?.addEventListener("click",e=>{
 e.stopPropagation();
 openOverlay(e.currentTarget,IMG_IR);
});

document.getElementById("pressureChart")?.addEventListener("click",e=>{
 e.stopPropagation();
 openOverlay(e.currentTarget,IMG_PRESSURE);
});

})();
</script>
  
</body></html
